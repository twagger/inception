version: '3'

services:

  mariadb:
    build: ./mariadb
    image: tw_mariadb
    restart: always
    volumes:
      -db_data: /var/lib/mysql
    ports: ['3306:3306']
    environment:
      - MYSQL_DATABASE: value
      - MYSQL_USER: value
      - MYSQL_PASSWORD: value
      - MYSQL_ROOT_PASSWORD: value

  wordpress:
    build: ./wordpress
    image: wordpress
    container_name: tw_wordpresss
    restart: always
    links: ['mariadb']
    depends_on: ['mariadb']
    ports: ['9000:9000']
    volumes:
      - fs_wordpress:/
    environment:
      - WORDPRESS_DB_HOST=value
      - WORDPRESS_DB_NAME=value
      - WORDPRESS_DB_USER=value
      - WORDPRESS_DB_PASSWORD=value

  nginx:
    build: ./nginx
    image: nginx
    restart: always
    ports: ['443:443']


volumes:
  db_data:
  fs_wordpress: